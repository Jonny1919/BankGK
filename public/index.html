fetch("/.netlify/functions/get-cloudinary-images")
  .then((res) => res.json())
  .then((urls) => {
    const gallery = document.getElementById("gallery");
    gallery.innerHTML = "";

    if (Array.isArray(urls)) {
      urls.forEach((url) => {
        const img = document.createElement("img");
        img.src = url;
        gallery.appendChild(img);
      });
    } else if (urls.error) {
      gallery.innerText = "Fehler vom Server: " + urls.error;
    } else {
      gallery.innerText = "Unerwartete Antwort vom Server.";
    }
  })
  .catch((err) => {
    document.getElementById("gallery").innerText =
      "Fehler beim Laden: " + err.message;
  });
